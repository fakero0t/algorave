@import"https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap";:root{--lime-green: #c4e34c;--lime-light: #d4f060;--orange: #ff6b35;--orange-dark: #e55a2b;--blue: #3366ff;--blue-dark: #2952cc;--indigo: #4400cc;--white: #ffffff;--off-white: #f5f5f0;--gray-100: #e8e8e3;--gray-200: #d0d0c8;--gray-300: #a0a098;--gray-400: #707068;--gray-500: #505048;--gray-600: #303028;--gray-700: #202018;--dark: #0a0a08;--bg-primary: var(--lime-green);--bg-secondary: var(--off-white);--bg-dark: var(--dark);--accent-primary: var(--orange);--accent-secondary: var(--blue);--text-primary: var(--dark);--text-secondary: var(--gray-500);--text-light: var(--white);--text-muted: var(--gray-400);--font-primary: "DM Sans", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;--font-mono: "SF Mono", "Fira Code", "JetBrains Mono", "Consolas", monospace;--space-xs: .25rem;--space-sm: .5rem;--space-md: 1rem;--space-lg: 1.5rem;--space-xl: 2rem;--space-2xl: 3rem;--radius-sm: 4px;--radius-md: 8px;--radius-lg: 16px;--radius-xl: 24px;--radius-full: 9999px;--transition-fast: .15s cubic-bezier(.4, 0, .2, 1);--transition-normal: .25s cubic-bezier(.4, 0, .2, 1);--shadow-sm: 0 1px 2px rgba(0, 0, 0, .05);--shadow-md: 0 4px 6px rgba(0, 0, 0, .07);--shadow-lg: 0 10px 25px rgba(0, 0, 0, .1);--shadow-xl: 0 20px 50px rgba(0, 0, 0, .15)}*,*:before,*:after{margin:0;padding:0;box-sizing:border-box}html,body,#root{height:100%;width:100%}body{font-family:var(--font-primary);font-weight:400;line-height:1.5;color:var(--text-primary);background:var(--bg-primary);overflow:hidden;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.app{height:100%;width:100%;display:flex;flex-direction:column;position:relative;background:var(--dark);overflow:hidden}.app-header{position:sticky;top:0;z-index:200;display:flex;align-items:center;justify-content:space-between;padding:var(--space-sm) var(--space-lg);background:#0a0a08f2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.08);min-height:48px}.header-left{display:flex;align-items:center;gap:var(--space-sm)}.app-logo{font-size:1.25rem;color:var(--lime-green);font-weight:700}.app-name{font-size:.85rem;font-weight:600;text-transform:uppercase;letter-spacing:.1em;color:var(--gray-300)}.header-center{display:flex;align-items:center;gap:var(--space-md)}.tempo-control{display:flex;align-items:center;gap:var(--space-sm);background:#ffffff0d;padding:var(--space-xs) var(--space-sm);border-radius:var(--radius-md);border:1px solid rgba(255,255,255,.1)}.tempo-label{font-size:.65rem;font-weight:600;text-transform:uppercase;letter-spacing:.08em;color:var(--gray-400)}.tempo-input{width:52px;background:transparent;border:none;color:var(--lime-green);font-family:var(--font-mono);font-size:.9rem;font-weight:600;text-align:center;outline:none;-moz-appearance:textfield}.tempo-input::-webkit-outer-spin-button,.tempo-input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.tempo-input:focus{color:var(--white)}.tempo-input:disabled{color:var(--gray-500)}.header-right{display:flex;align-items:center;gap:var(--space-sm)}.status-badge{font-size:.65rem;padding:2px 8px;border-radius:var(--radius-full);font-weight:600;margin-left:var(--space-sm)}.status-badge.ready{background:#c4e34c33;color:var(--lime-green)}.status-badge.loading{background:#ff6b3533;color:var(--orange)}.transport-controls{display:flex;align-items:center;gap:var(--space-xs)}.transport-btn{display:flex;align-items:center;gap:var(--space-xs);padding:var(--space-xs) var(--space-sm);border-radius:var(--radius-md);font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;cursor:pointer;transition:var(--transition-fast)}.play-btn{background:#50c87826;border:1px solid rgba(80,200,120,.3);color:#78dc96e6}.play-btn:hover:not(:disabled){background:#50c87840;border-color:#50c87880;color:#fff}.play-btn.active{background:#50c8784d;border-color:#50c87899;color:#fff}.stop-btn{background:#ff505026;border:1px solid rgba(255,80,80,.3);color:#ff7878e6}.stop-btn:hover:not(:disabled){background:#ff505040;border-color:#ff505080;color:#fff}.stop-btn.active{background:#ff50501a;border-color:#ff505033}.transport-btn:disabled{opacity:.4;cursor:not-allowed}.transport-btn svg{width:12px;height:12px}.mute-all-btn{padding:var(--space-xs) var(--space-md);background:#ffb45026;border:1px solid rgba(255,180,80,.3);border-radius:var(--radius-md);color:#ffc878e6;font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;cursor:pointer;transition:var(--transition-fast)}.mute-all-btn:hover:not(:disabled){background:#ffb45040;border-color:#ffb45080;color:#fff}.mute-all-btn:disabled{opacity:.4;cursor:not-allowed}.header-settings-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-md);color:var(--gray-400);cursor:pointer;transition:var(--transition-fast)}.header-settings-btn:hover{background:#ffffff1a;color:var(--white);border-color:#fff3}.event-stream{flex:1;overflow-y:auto;overflow-x:hidden;display:flex;flex-direction:column;padding:var(--space-sm) 0;background:linear-gradient(180deg,#c4e34cf2,#d4f060f2,#ff6b35e6)}.channel-row{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-lg);min-height:56px;border-bottom:1px solid rgba(0,0,0,.08);transition:var(--transition-fast);position:relative}.channel-row:hover{background:#ffffff26}.channel-row.active{background:#0000001f}.channel-label{font-family:var(--font-mono);font-size:.75rem;font-weight:700;color:var(--channel-color, #ffffff);text-transform:uppercase;min-width:72px;padding:var(--space-xs) var(--space-sm);background:#00000080;border-radius:var(--radius-sm);text-align:center;white-space:nowrap;cursor:pointer;transition:var(--transition-fast);max-width:120px;overflow:hidden;text-overflow:ellipsis}.channel-label:hover{background:#000000b3}.channel-label-input{font-family:var(--font-mono);font-size:.75rem;font-weight:700;color:var(--channel-color, #ffffff);text-transform:uppercase;width:100px;padding:var(--space-xs) var(--space-sm);background:#000000b3;border:1px solid var(--channel-color, rgba(255, 255, 255, .3));border-radius:var(--radius-sm);text-align:center;outline:none}.channel-label-input::placeholder{color:#fff6;text-transform:uppercase}.channel-pattern{font-family:var(--font-mono);font-size:.9rem;color:#000000d9;background:#ffffff80;padding:var(--space-xs) var(--space-md);border-radius:var(--radius-md);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;max-width:calc(100% - 60px);cursor:pointer;transition:var(--transition-fast)}.channel-pattern:hover{background:#ffffffb3;box-shadow:0 0 0 2px #0000001a}.channel-row.editing{background:#0003}.channel-row.muted{opacity:.6}.channel-row.muted .channel-pattern{text-decoration:line-through;opacity:.5}.channel-mute-btn{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:#00000080;border:2px solid rgba(255,255,255,.3);border-radius:var(--radius-md);color:#ffffffe6;cursor:pointer;transition:var(--transition-fast);flex-shrink:0}.channel-mute-btn:hover{background:#000000b3;border-color:#ffffff80;color:#fff;transform:scale(1.08)}.channel-mute-btn.muted{background:#dc3232cc;border-color:#ff646499;color:#fff}.channel-mute-btn.muted:hover{background:#dc3232f2;border-color:#ff9696b3}.track-input-wrapper{flex:1;display:flex;align-items:center;gap:var(--space-xs);position:relative;min-width:0}.track-input-wrapper.drag-over{outline:2px dashed var(--lime-green);outline-offset:2px;border-radius:var(--radius-md)}.track-input{flex:1;font-family:var(--font-mono);font-size:.85rem;color:var(--dark);background:#ffffffd9;padding:var(--space-sm) var(--space-md);border:2px solid transparent;border-radius:var(--radius-md);outline:none;min-width:0;transition:var(--transition-fast)}.track-input::placeholder{color:#00000059;font-size:.8rem}.track-input:focus{background:#fffffff2;border-color:var(--track-color, var(--orange));box-shadow:0 0 0 3px #0000001a}.track-input.active{background:#fffffff2;border-color:var(--track-color, var(--lime-green))}.track-input.muted{opacity:.5;text-decoration:line-through}.track-input:disabled{background:#fff6;cursor:not-allowed}.track-stop-btn{display:flex;align-items:center;justify-content:center;width:28px;height:28px;background:#ff5050cc;border:none;border-radius:var(--radius-sm);color:#fff;cursor:pointer;transition:var(--transition-fast);flex-shrink:0}.track-stop-btn:hover{background:#ff3c3c;transform:scale(1.1)}.code-display-wrapper{flex:1;display:flex;align-items:center;position:relative;min-width:0}.code-display{flex:1;font-family:var(--font-mono);font-size:.8rem;color:var(--gray-600);background:#0000004d;padding:var(--space-sm) var(--space-md);border:2px solid rgba(255,255,255,.1);border-radius:var(--radius-md);outline:none;min-width:0;cursor:default;-webkit-user-select:text;user-select:text}.code-display::placeholder{color:var(--gray-600);font-size:.75rem}.code-display.active{color:var(--gray-300);background:#0006;border-color:var(--track-color, rgba(255, 255, 255, .2))}.code-display.muted{opacity:.5}.clear-track-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:#0006;border:2px solid rgba(255,255,255,.15);border-radius:var(--radius-md);color:var(--gray-400);font-size:1rem;cursor:pointer;transition:var(--transition-fast);flex-shrink:0}.clear-track-btn:hover{background:#ff505033;border-color:#ff646466;color:#ff9696e6}.channel-edit-input{flex:1;font-family:var(--font-mono);font-size:.9rem;color:var(--dark);background:#ffffffe6;padding:var(--space-xs) var(--space-md);border:2px solid var(--channel-color, var(--orange));border-radius:var(--radius-md);outline:none;min-width:0}.channel-edit-input:focus{box-shadow:0 0 0 3px #ff6b354d}.command-modal{position:fixed;z-index:100;background:#0a0a08f2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-lg);display:flex;flex-direction:column;box-shadow:0 20px 60px #0006;isolation:isolate}.drag-handle{display:flex;align-items:center;justify-content:space-between;padding:var(--space-sm) var(--space-md);background:#ffffff08;cursor:grab;-webkit-user-select:none;user-select:none;border-bottom:1px solid rgba(255,255,255,.05)}.drag-handle:active{cursor:grabbing}.modal-title{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.08em;color:var(--gray-300)}.modal-header-actions{display:flex;align-items:center;gap:var(--space-sm)}.status-indicator{font-size:.65rem;padding:2px 8px;border-radius:var(--radius-full);font-weight:600}.status-indicator.ready{background:#c4e34c33;color:var(--lime-green)}.status-indicator.loading{background:#ff6b3533;color:var(--orange)}.command-input{flex:1;width:100%;padding:var(--space-md) var(--space-lg);background:transparent;border:none;color:var(--text-light);font-size:1rem;font-family:var(--font-mono);outline:none;resize:none;line-height:1.4;min-height:0}.command-input::placeholder{color:var(--gray-500)}.command-input.drag-over{border:2px dashed var(--lime-green);background:#c4e34c1a}.command-input.has-error{border-left:3px solid rgba(255,80,80,.8)}.toast-container{position:fixed;bottom:20px;right:20px;z-index:10000;display:flex;flex-direction:column;gap:var(--space-sm);pointer-events:none}.toast-item{max-width:360px;padding:var(--space-sm) var(--space-md);border-radius:var(--radius-md);color:#fff;font-size:.85rem;display:flex;align-items:center;gap:var(--space-sm);cursor:pointer;animation:toastSlideIn .25s ease-out;box-shadow:0 4px 20px #0006;pointer-events:auto;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.toast-error{background:#c83232f2;border:1px solid rgba(255,100,100,.5)}.toast-success{background:#32b464f2;border:1px solid rgba(100,220,150,.5)}.toast-info{background:#3264c8f2;border:1px solid rgba(100,150,255,.5)}@keyframes toastSlideIn{0%{opacity:0;transform:translate(20px)}to{opacity:1;transform:translate(0)}}.toast-item:hover{filter:brightness(1.1)}.toast-icon{font-size:1rem;flex-shrink:0}.toast-message{flex:1;line-height:1.3}.resize-handle{position:absolute;bottom:0;right:0;width:16px;height:16px;cursor:se-resize;background:linear-gradient(135deg,transparent 50%,rgba(255,255,255,.2) 50%);border-radius:0 0 var(--radius-lg) 0}.sample-browser{position:fixed;z-index:100;background:#0a0a08f2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-lg);display:flex;flex-direction:column;box-shadow:0 20px 60px #0006;overflow:hidden;isolation:isolate;contain:layout}.sample-browser:not(.resizing){transition:height var(--transition-fast)}.sample-browser .drag-handle{display:flex;align-items:center;justify-content:space-between;padding:var(--space-sm) var(--space-md);background:#ffffff08;cursor:grab;-webkit-user-select:none;user-select:none;border-bottom:1px solid rgba(255,255,255,.05)}.sample-count{font-size:.7rem;color:var(--gray-500);background:#ffffff0d;padding:2px 8px;border-radius:var(--radius-full)}.collapse-indicator{color:var(--gray-400);font-size:.65rem;line-height:1}.sample-browser.collapsed{min-height:auto}.sample-browser.collapsed .drag-handle{border-bottom:none}.sample-filter{margin:var(--space-sm);padding:var(--space-xs) var(--space-md);background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-md);color:var(--text-light);font-size:.85rem;font-family:var(--font-primary);outline:none;transition:var(--transition-fast)}.sample-filter:focus{border-color:var(--lime-green);background:#ffffff14}.sample-filter::placeholder{color:var(--gray-500)}.sample-list{flex:1;overflow-y:auto;padding:0 var(--space-sm) var(--space-sm);display:flex;flex-direction:column;gap:2px}.sample-item{padding:var(--space-xs) var(--space-sm);font-family:var(--font-mono);font-size:.8rem;color:var(--gray-300);background:#ffffff08;border-radius:var(--radius-sm);cursor:grab;transition:var(--transition-fast);-webkit-user-select:none;user-select:none}.sample-item:hover{background:#c4e34c26;color:var(--lime-green)}.sample-item:active{cursor:grabbing}.sample-empty{padding:var(--space-md);text-align:center;color:var(--gray-500);font-size:.85rem}.sample-browser .resize-handle{position:absolute;bottom:0;right:0;width:16px;height:16px;cursor:se-resize;background:linear-gradient(135deg,transparent 50%,rgba(255,255,255,.2) 50%);border-radius:0 0 var(--radius-lg) 0}.settings-toggle{display:none}.settings-overlay{position:fixed;top:0;right:0;bottom:0;left:0;background:#0009;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:50000;animation:fadeIn .2s ease-out}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.settings-panel{background:var(--white);border-radius:var(--radius-xl);padding:var(--space-xl);width:90%;max-width:480px;max-height:85vh;overflow-y:auto;box-shadow:var(--shadow-xl);animation:slideUp .3s ease-out}@keyframes slideUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.settings-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-xl)}.settings-header h2{font-size:1.5rem;font-weight:700;color:var(--text-primary)}.close-button{width:36px;height:36px;background:var(--gray-100);border:none;border-radius:50%;color:var(--text-secondary);font-size:1.5rem;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:var(--transition-fast)}.close-button:hover{background:var(--gray-200);color:var(--text-primary)}.settings-section{margin-bottom:var(--space-xl)}.settings-section h3{font-size:.75rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.1em;margin-bottom:var(--space-md)}.shortcuts-list{display:flex;flex-direction:column;gap:var(--space-sm)}.shortcut-row{display:flex;align-items:center;gap:var(--space-md);padding:var(--space-sm) var(--space-md);background:var(--gray-100);border-radius:var(--radius-md)}.shortcut-key{font-family:var(--font-mono);font-size:.8rem;color:var(--orange);font-weight:600;min-width:60px}.shortcut-desc{color:var(--text-secondary);font-size:.875rem}.settings-list{display:flex;flex-direction:column;gap:var(--space-sm)}.setting-row{display:flex;align-items:center;justify-content:space-between;gap:var(--space-md);padding:var(--space-md);background:var(--gray-100);border-radius:var(--radius-md)}.setting-info{display:flex;flex-direction:column;gap:2px;flex:1}.setting-label{font-size:.9rem;font-weight:500;color:var(--text-primary)}.setting-desc{font-size:.75rem;color:var(--text-muted)}.setting-number-input{width:64px;padding:var(--space-xs) var(--space-sm);background:var(--white);border:1px solid var(--gray-200);border-radius:var(--radius-sm);font-family:var(--font-mono);font-size:.85rem;color:var(--text-primary);text-align:center;outline:none;transition:var(--transition-fast)}.setting-number-input:focus{border-color:var(--orange);box-shadow:0 0 0 2px #ff6b3526}.setting-toggle{padding:var(--space-xs) var(--space-md);background:var(--gray-200);border:none;border-radius:var(--radius-full);font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;color:var(--gray-500);cursor:pointer;transition:var(--transition-fast);min-width:52px}.setting-toggle:hover{background:var(--gray-300)}.setting-toggle.active{background:var(--lime-green);color:var(--dark)}.restore-defaults-btn{width:100%;padding:var(--space-sm) var(--space-md);background:transparent;border:1px solid var(--gray-200);border-radius:var(--radius-md);font-size:.85rem;font-weight:500;color:var(--text-secondary);cursor:pointer;transition:var(--transition-fast)}.restore-defaults-btn:hover{background:var(--gray-100);border-color:var(--gray-300);color:var(--text-primary)}::-webkit-scrollbar{width:6px;height:6px}::-webkit-scrollbar-track{background:transparent}::-webkit-scrollbar-thumb{background:var(--gray-300);border-radius:var(--radius-full)}::-webkit-scrollbar-thumb:hover{background:var(--gray-400)}.knob{display:flex;flex-direction:column;align-items:center;gap:4px;-webkit-user-select:none;user-select:none}.knob svg{filter:drop-shadow(0 2px 4px rgba(0,0,0,.3))}.knob-value{font-family:var(--font-mono);font-size:.7rem;font-weight:600;text-align:center;min-width:40px}.knob-label{font-size:.65rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:var(--gray-400);text-align:center}.effect-control{display:flex;flex-direction:column;align-items:center;gap:6px;padding:var(--space-sm);position:relative}.mode-toggle{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-sm);color:var(--gray-500);cursor:pointer;transition:var(--transition-fast);padding:0}.mode-toggle:hover:not(:disabled){background:#ffffff1a;color:var(--gray-300)}.mode-toggle:disabled{opacity:.3;cursor:not-allowed}.mode-toggle.active{background:#ffffff26}.effect-control.signal-mode{min-width:90px;padding:var(--space-xs) var(--space-sm)}.signal-controls{display:flex;flex-direction:column;align-items:center;gap:6px;width:100%}.waveform-select{width:100%;padding:4px 6px;background:#ffffff0d;border:1px solid rgba(255,255,255,.15);border-radius:var(--radius-sm);color:var(--gray-200);font-family:var(--font-mono);font-size:.65rem;cursor:pointer;outline:none;transition:var(--transition-fast)}.waveform-select:hover{background:#ffffff14}.waveform-select:focus{border-color:var(--track-color, var(--lime-green))}.waveform-select option{background:var(--dark);color:var(--gray-200)}.range-sliders{display:flex;gap:8px;justify-content:center;height:60px}.range-slider-group{display:flex;flex-direction:column;align-items:center;gap:2px}.range-slider{writing-mode:vertical-lr;direction:rtl;width:16px;height:50px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;cursor:pointer}.range-slider::-webkit-slider-track{width:4px;height:100%;background:#ffffff1a;border-radius:2px}.range-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:12px;height:12px;background:var(--slider-color, var(--lime-green));border-radius:50%;cursor:pointer;box-shadow:0 2px 4px #0000004d}.range-slider::-moz-range-track{width:4px;height:100%;background:#ffffff1a;border-radius:2px}.range-slider::-moz-range-thumb{width:12px;height:12px;background:var(--slider-color, var(--lime-green));border-radius:50%;cursor:pointer;border:none;box-shadow:0 2px 4px #0000004d}.range-label{font-family:var(--font-mono);font-size:.55rem;color:var(--gray-400);text-align:center;min-width:28px}.speed-control{display:flex;align-items:center;gap:6px;width:100%}.speed-slider{flex:1;height:4px;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:#ffffff1a;border-radius:2px;cursor:pointer}.speed-slider::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:10px;height:10px;background:var(--slider-color, var(--lime-green));border-radius:50%;cursor:pointer;box-shadow:0 1px 3px #0000004d}.speed-slider::-moz-range-thumb{width:10px;height:10px;background:var(--slider-color, var(--lime-green));border-radius:50%;cursor:pointer;border:none;box-shadow:0 1px 3px #0000004d}.speed-label{font-family:var(--font-mono);font-size:.6rem;color:var(--gray-400);min-width:28px;text-align:right}.effect-label{font-size:.65rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em;color:var(--gray-400);text-align:center}.unsupported-effects{padding:var(--space-sm) var(--space-md);border-top:1px solid rgba(255,255,255,.05);display:flex;align-items:center;gap:var(--space-sm)}.unsupported-label{font-size:.65rem;color:var(--gray-500);white-space:nowrap}.unsupported-code{font-family:var(--font-mono);font-size:.7rem;color:var(--gray-400);background:#ffffff08;padding:2px 6px;border-radius:var(--radius-sm);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:180px}.track-effects-panel{position:fixed;z-index:1000;background:#0a0a08f2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-lg);box-shadow:0 20px 60px #00000080;min-width:280px;overflow:hidden}.track-effects-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-sm) var(--space-md);background:#ffffff08;border-bottom:1px solid rgba(255,255,255,.05);cursor:grab;-webkit-user-select:none;user-select:none}.track-effects-header:active{cursor:grabbing}.track-effects-title{font-size:.75rem;font-weight:600;text-transform:uppercase;letter-spacing:.08em;color:var(--track-color, var(--gray-300))}.track-effects-actions{display:flex;align-items:center;gap:var(--space-xs)}.track-effects-reset{padding:4px 8px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-sm);color:var(--gray-400);font-size:.65rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;cursor:pointer;transition:var(--transition-fast)}.track-effects-reset:hover{background:#ffffff1a;color:var(--gray-200);border-color:#fff3}.track-effects-close{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:transparent;border:none;color:var(--gray-500);font-size:1.25rem;cursor:pointer;border-radius:var(--radius-sm);transition:var(--transition-fast)}.track-effects-close:hover{background:#ffffff1a;color:var(--gray-200)}.track-effects-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-xs);padding:var(--space-md)}.channel-fx-btn{display:flex;align-items:center;justify-content:center;width:36px;height:36px;background:#0000004d;border:2px solid rgba(255,255,255,.15);border-radius:var(--radius-md);color:#ffffff80;cursor:pointer;transition:var(--transition-fast);flex-shrink:0;margin-left:auto}.channel-fx-btn:hover:not(.disabled){background:#00000080;border-color:var(--btn-color, rgba(255, 255, 255, .4));color:var(--btn-color, rgba(255, 255, 255, .9));transform:scale(1.08)}.channel-fx-btn.active{background:#0009;border-color:var(--btn-color, var(--lime-green));color:var(--btn-color, var(--lime-green))}.channel-fx-btn.disabled{opacity:.25;cursor:not-allowed}.samples-toggle-btn{display:flex;align-items:center;gap:var(--space-xs);padding:var(--space-xs) var(--space-sm);background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-md);color:var(--gray-400);font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;cursor:pointer;transition:var(--transition-fast);margin-left:var(--space-sm)}.samples-toggle-btn:hover{background:#ffffff1a;color:var(--gray-300);border-color:#fff3}.samples-toggle-btn.active{background:#c4e34c26;border-color:#c4e34c4d;color:var(--lime-green)}.sample-browser-close{display:flex;align-items:center;justify-content:center;width:20px;height:20px;background:transparent;border:none;color:var(--gray-500);font-size:1.25rem;cursor:pointer;border-radius:var(--radius-sm);transition:var(--transition-fast);margin-left:var(--space-xs)}.sample-browser-close:hover{background:#ffffff1a;color:var(--gray-200)}.instrument-picker{position:fixed;z-index:2000;background:#0a0a08fa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.15);border-radius:var(--radius-md);box-shadow:0 10px 40px #00000080;width:200px;max-height:280px;display:flex;flex-direction:column;overflow:hidden}.instrument-picker-search{padding:var(--space-sm) var(--space-md);background:#ffffff0d;border:none;border-bottom:1px solid rgba(255,255,255,.1);color:var(--text-light);font-size:.85rem;font-family:var(--font-primary);outline:none}.instrument-picker-search:focus{background:#ffffff14}.instrument-picker-search::placeholder{color:var(--gray-500)}.instrument-picker-list{flex:1;overflow-y:auto;padding:var(--space-xs)}.instrument-picker-item{padding:var(--space-xs) var(--space-sm);font-family:var(--font-mono);font-size:.8rem;color:var(--gray-300);border-radius:var(--radius-sm);cursor:pointer;transition:var(--transition-fast)}.instrument-picker-item:hover{background:#c4e34c26;color:var(--lime-green)}.instrument-picker-item.selected{background:#c4e34c33;color:var(--lime-green)}.instrument-picker-empty{padding:var(--space-md);text-align:center;color:var(--gray-500);font-size:.8rem}.instrument-btn{display:flex;align-items:center;justify-content:center;min-width:72px;max-width:100px;height:32px;padding:0 var(--space-sm);background:#0006;border:2px solid rgba(255,255,255,.2);border-radius:var(--radius-md);color:var(--gray-400);font-family:var(--font-mono);font-size:.75rem;font-weight:600;cursor:pointer;transition:var(--transition-fast);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;flex-shrink:0}.instrument-btn:hover{background:#0009;border-color:var(--btn-color, rgba(255, 255, 255, .4));color:var(--gray-200)}.instrument-btn.has-instrument{border-color:var(--btn-color, rgba(255, 255, 255, .4));color:var(--btn-color, var(--gray-200))}.track-mode-toggle{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:#0006;border:2px solid rgba(255,255,255,.15);border-radius:var(--radius-md);font-size:.9rem;cursor:pointer;transition:var(--transition-fast);flex-shrink:0}.track-mode-toggle:hover:not(:disabled){background:#0009;border-color:#ffffff4d}.track-mode-toggle.unset{opacity:.5;color:var(--gray-400)}.track-mode-toggle.melodic{border-color:#6496ff80;background:#6496ff26}.track-mode-toggle.percussive{border-color:#ff966480;background:#ff966426}.track-mode-toggle:disabled{opacity:.3;cursor:not-allowed}.track-mode-toggle.disabled{opacity:.3;cursor:not-allowed}.grid-btn{display:flex;align-items:center;justify-content:center;width:32px;height:32px;background:#0006;border:2px solid rgba(255,255,255,.15);border-radius:var(--radius-md);color:var(--gray-400);font-size:1rem;cursor:pointer;transition:var(--transition-fast);flex-shrink:0}.grid-btn:hover:not(:disabled){background:#0009;border-color:var(--btn-color, rgba(255, 255, 255, .4));color:var(--gray-200)}.grid-btn.active{background:#c4e34c33;border-color:var(--lime-green);color:var(--lime-green)}.grid-btn:disabled{opacity:.3;cursor:not-allowed}:root{--piano-roll-width: 40vw;--piano-roll-min-width: 320px;--piano-roll-max-width: 600px;--grid-cell-size: 28px;--grid-cell-gap: 1px;--note-label-width: 48px;--beat-line-color: rgba(255, 255, 255, .3);--half-beat-line-color: rgba(255, 255, 255, .1);--white-key-bg: rgba(40, 40, 38, .95);--black-key-bg: rgba(20, 20, 18, .95)}.piano-roll-panel{position:fixed;top:48px;right:0;bottom:0;width:var(--piano-roll-width);min-width:var(--piano-roll-min-width);max-width:var(--piano-roll-max-width);background:#0a0a08fa;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-left:1px solid rgba(255,255,255,.1);box-shadow:-10px 0 40px #0006;display:flex;flex-direction:column;z-index:1500;transform:translate(100%);transition:transform .2s ease-out}.piano-roll-panel.open{transform:translate(0)}@media (prefers-reduced-motion: reduce){.piano-roll-panel{transition:none}}.piano-roll-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-sm) var(--space-md);background:#ffffff08;border-bottom:1px solid rgba(255,255,255,.08);min-height:44px}.piano-roll-title{font-size:.8rem;font-weight:600;color:var(--track-color, var(--gray-300));white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.piano-roll-close{display:flex;align-items:center;justify-content:center;width:28px;height:28px;background:transparent;border:none;color:var(--gray-500);font-size:1.5rem;cursor:pointer;border-radius:var(--radius-sm);transition:var(--transition-fast);flex-shrink:0}.piano-roll-close:hover{background:#ffffff1a;color:var(--gray-200)}.inline-mode-toggle{display:flex;gap:4px;background:#0000004d;padding:3px;border-radius:var(--radius-md);margin:0 auto}.inline-mode-toggle .mode-btn{display:flex;align-items:center;justify-content:center;width:36px;height:28px;background:transparent;border:none;border-radius:var(--radius-sm);font-size:1rem;cursor:pointer;transition:var(--transition-fast);opacity:.5}.inline-mode-toggle .mode-btn:hover{background:#ffffff1a;opacity:.8}.inline-mode-toggle .mode-btn.active{background:var(--track-color, var(--lime-green));opacity:1;box-shadow:0 2px 8px #0000004d}.active-mode-indicator{display:flex;align-items:center;gap:4px;font-size:.75rem;color:var(--gray-400);padding:4px 8px;background:#ffffff0d;border-radius:var(--radius-sm)}.active-mode-indicator .note-count{font-weight:600;color:var(--track-color, var(--lime-green))}.piano-roll-content{flex:1;overflow:hidden;display:flex;flex-direction:column}.piano-roll-grid{flex:1;overflow-x:auto;overflow-y:auto;padding:var(--space-sm)}.piano-roll-grid.percussive{display:flex;flex-direction:column;justify-content:center;padding:var(--space-lg) var(--space-sm)}.grid-row{display:flex;align-items:stretch;gap:var(--grid-cell-gap);min-height:var(--grid-cell-size)}.grid-row.white-key{background:var(--white-key-bg)}.grid-row.black-key{background:var(--black-key-bg)}.note-label{width:var(--note-label-width);min-width:var(--note-label-width);display:flex;align-items:center;justify-content:flex-end;padding-right:var(--space-sm);font-family:var(--font-mono);font-size:.65rem;font-weight:600;color:var(--gray-400);background:#0000004d;-webkit-user-select:none;user-select:none}.note-label.black-key{background:#00000080;color:var(--gray-500)}.note-label.drum-label{font-size:.7rem;color:var(--gray-300);text-transform:uppercase}.grid-cell{width:var(--grid-cell-size);min-width:var(--grid-cell-size);height:var(--grid-cell-size);background:#ffffff08;border:1px solid rgba(255,255,255,.05);border-radius:2px;cursor:pointer;transition:background-color .1s ease;position:relative}.grid-cell:hover{background:#ffffff1a}.grid-cell:focus{outline:2px solid var(--track-color, var(--lime-green));outline-offset:-2px}.grid-cell.active{background:var(--track-color, var(--lime-green));border-color:var(--track-color, var(--lime-green));border-radius:4px;animation:note-pop .1s ease-out}@keyframes note-pop{0%{transform:scale(.8)}to{transform:scale(1)}}@media (prefers-reduced-motion: reduce){.grid-cell.active{animation:none}}.grid-cell.beat-marker.quarter{border-left:2px solid var(--beat-line-color)}.grid-cell.beat-marker.eighth{border-left:1px solid var(--half-beat-line-color)}.step-numbers{display:flex;align-items:center;gap:var(--grid-cell-gap);margin-top:var(--space-sm)}.step-number{width:var(--grid-cell-size);min-width:var(--grid-cell-size);text-align:center;font-family:var(--font-mono);font-size:.6rem;color:var(--gray-500);-webkit-user-select:none;user-select:none}.piano-roll-toolbar{display:flex;align-items:center;gap:var(--space-sm);padding:var(--space-sm) var(--space-md);background:#ffffff08;border-top:1px solid rgba(255,255,255,.08);min-height:44px}.toolbar-spacer{flex:1}.octave-scroller{display:flex;align-items:center;gap:var(--space-xs)}.octave-btn{display:flex;align-items:center;justify-content:center;width:24px;height:24px;background:#ffffff0d;border:1px solid rgba(255,255,255,.1);border-radius:var(--radius-sm);color:var(--gray-400);font-size:.7rem;cursor:pointer;transition:var(--transition-fast)}.octave-btn:hover:not(:disabled){background:#ffffff1a;color:var(--gray-200)}.octave-btn:disabled{opacity:.3;cursor:not-allowed}.octave-label{font-family:var(--font-mono);font-size:.7rem;color:var(--gray-400);min-width:48px;text-align:center}.clear-btn{padding:var(--space-xs) var(--space-sm);background:#ff50501a;border:1px solid rgba(255,80,80,.2);border-radius:var(--radius-sm);color:#ff7878e6;font-size:.7rem;font-weight:600;text-transform:uppercase;letter-spacing:.05em;cursor:pointer;transition:var(--transition-fast)}.clear-btn:hover:not(:disabled){background:#ff505033;border-color:#ff505066;color:#fff}.clear-btn:disabled{opacity:.3;cursor:not-allowed}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}@media (max-width: 768px){.piano-roll-panel{width:100vw;max-width:100vw}.grid-cell{width:44px;min-width:44px;height:44px}.step-number{width:44px;min-width:44px}}@media (max-width: 768px){.app-header{padding:var(--space-xs) var(--space-md);min-height:44px}.app-name{display:none}.tempo-control{padding:4px var(--space-sm)}.tempo-input{width:44px;font-size:.85rem}.channel-row{min-height:55px;padding:var(--space-md) var(--space-lg)}.command-modal{left:10px!important;right:10px!important;width:auto!important}.settings-panel{width:95%;padding:var(--space-lg)}.setting-row{flex-direction:column;align-items:flex-start;gap:var(--space-sm)}.setting-info{width:100%}}
